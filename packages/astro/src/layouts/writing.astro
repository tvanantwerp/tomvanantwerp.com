---
import Base from './base.astro';
import { readableDate } from '../utils/dates';

const { content } = Astro.props;
---

<Base>
	<article class="writing">
		{
			content.splash ? (
				<>
					<div class="writing__splash__background">
						<p>PUT SPLASH IMAGE HERE</p>
					</div>
					<div class="writing__splash">
						<h1 class="writing__title writing__title--with-splash">
							{content.title}
						</h1>
						{content.description && (
							<div class="writing__excerpt writing__excerpt--with-splash">
								{content.description}
							</div>
						)}
						{content.date && (
							<div class="writing__byline writing__byline--with-splash">
								By Tom VanAntwerp on
								<time
									datetime={content.date}
									class="writing__date--with-splash">
									{readableDate(content.date)}
								</time>
							</div>
						)}
					</div>
				</>
			) : (
				<>
					<h1 class="writing__title">{content.title}</h1>
					{content.description && (
						<div class="writing__excerpt">{content.description}</div>
					)}
					{content.date && (
						<div class="writing__byline">
							By Tom VanAntwerp on
							<time datetime={content.date} class="writing__date">
								{readableDate(content.date)}
							</time>
						</div>
					)}
				</>
			)
		}
		<slot />
	</article>
</Base>
