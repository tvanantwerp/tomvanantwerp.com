---
import Head from '../components/head';
import Navigation from '../components/navigation';
import Footer from '../components/footer';
const defaultMetadata = {
	title: 'Tom VanAntwerp',
	description: "TVA's Digital Garden",
	url: 'https://tomvanantwerp.com',
	author: 'Tom VanAntwerp',
	twitter: 'tvanantwerp',
	github: 'tvanantwerp',
	image: '/img/tom_poly-cropped.png',
};
const defaultNavigation = [
	{ slug: 'about', title: 'About' },
	{ slug: 'writing', title: 'Writing' },
	{ slug: 'projects', title: 'Projects' },
];
const { content } = Astro.props;
const { data } = content;

if (data?.image && !data.image.match(/^\/img/)) {
	throw new Error('Images used for social sharing must be in /img');
}
---

<!DOCTYPE html>
<html lang="en">
	<Head
		title={data?.title || defaultMetadata.title}
		description={data?.description || defaultMetadata.description}
		url={data?.url || defaultMetadata.url}
		author={data?.author || defaultMetadata.author}
		twitter={data?.twitter || defaultMetadata.twitter}
		image={`${defaultMetadata.url}${data?.image || defaultMetadata.image}`}
		ignore={data?.ignore === false ? false : true}
		canonical={data?.canonical}
	/>
	<body class="layout">
		<Navigation title={defaultMetadata.title} links={defaultNavigation} />
		<main class="content">
			<slot />
		</main>
		<Footer
			title={defaultMetadata.author}
			year={new Date().getFullYear()}
			twitter={defaultMetadata.twitter}
			github={defaultMetadata.github}
		/>
	</body>
</html>
